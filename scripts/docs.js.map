{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/fpx/es/fpx.js","webpack:///./es/espo.js","webpack:///./node_modules/emerge/es/emerge.js","webpack:///./docs/scripts/docs.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Object_","NOP","has","Array_","Array","NAP","fun","apply","arguments","args","not","validate","isFunction","bool","truthy","negate","falsy","is","one","other","isNumber","isInfinity","isInteger","isNatural","Infinity","isString","isBoolean","isSymbol","isKey","isPrimitive","isComplex","isObject","isInstance","Class","isDict","proto","getPrototypeOf","isStruct","isList","isArray","length","isRegExp","RegExp","isDate","Date","isValidDate","valueOf","isInvalidDate","isPromise","then","catch","isIterator","next","return","throw","isNil","isSomething","isEmpty","size","testBy","pattern","test","every","testAt","everyVal","onlyString","onlyList","onlyDict","onlyStruct","toArray","slice","each","list","a","b","e","fold","acc","foldRight","map","out","flatMap","flatten","flatMapDeep","flattenDeep","mapFilter","compact","filter","push","reject","notBy","find","findIndex","findRight","findIndexRight","indexOf","isAt","lastIndexOf","candidate","_i","includes","procure","result","some","start","end","append","concat","prepend","remove","removeAtIndex","insertAtIndex","index","Error","splice","adjoin","toggle","pushFlat","pushFlatDeep","_key","first","head","tail","init","last","take","count","drop","reverse","len","sort","comparator","sortBy","left","right","undefined","intersection","lr","intersectionAdd","control","keyBy","groupBy","groupKey","uniq","uniqBy","attrs","attr","partition","accepted","rejected","sum","sumBy","min","minBy","max","maxBy","compareNumbersBy","lt","gt","compare","findMinBy","findNumBy","findMaxBy","winningValue","winningAttr","range","remaining","scan","getIn","path","keys","values","entries","eachVal","struct","inputKeys","foldVals","mapVals","mapKeys","newKey","mapValsSort","pickBy","omitBy","pickKeys","validateEach","pickKnown","src","omitKeys","deleteAt","findVal","findKey","someVal","invert","invertBy","vacate","add","sub","mul","div","rem","lte","gte","inc","dec","global","Function","di","_","val","noop","rethrow","target","setAt","maskBy","match","maskAt","mask","show","validateInstance","JSON","stringify","String","getOwnPropertyDescriptors","ESPO_CONTEXT","isDeinitable","deinit","isOwner","unown","isRef","deref","isSubscription","trigger","isObservable","subscribe","unsubscribe","isObservableRef","isAtom","swap","reset","isAgent","ACTIVE","IDLE","PENDING","TRIGGERED","Subscription","this","state","Observable","constructor","states","OP","onInit","onDeinit","pull","shift","flushBy","_deinit","Atom","AP","contextSubscribe","Agent","Reaction","u","Computation","f","computation","Query","h","v","queryDeref","query","PathQuery","isPath","pathQuery","deinitDiff","deinitDiffAcyclic","setNew","deinitDeep","derefDeep","derefIn","$","isQue","replaceContextSubscribe","setHas","setAdd","diffAndDeinit","run","rejectState","onlyEmptyArray","unexpectedState","loop","reactionLoop","Set","getKeys","equal","equalBy","everyBy","compareAtIndexBy","hasAt","compareAtKeyBy","put","prev","assoc","putAny","putIn","assocInAt","putBy","g","j","putInBy","patch","reduce","patchTwoDicts","merge","mergeTwoDicts","validateBounds","alwaysArray","replaceListBy","nextKeys","replaceDictBy","alwaysDict","patchDictBy","mergeTwo","toDict","mergeOrPut","assocAtIndex","dict","toKey","prevKeys","prevKey","assocAtKey","_index","toString","scroller","options","active","timerId","tailPending","delay","restartThrottle","clearTimeout","setTimeout","throttle","id","document","querySelectorAll","getVisibleId","window","history","replaceState","setHash","forEach","deactivate","link","querySelector","setAttribute","elem","getBoundingClientRect","top","bottom","PX_ERROR_MARGIN","innerHeight","isKindaVisible","scrollIntoView","scrollIntoViewIfNeeded","updateSidenavLinks","removeAttribute","addEventListener","event","node","findAncestor","parentNode","shouldPreventSpill","deltaMode","WheelEvent","DOM_DELTA_PIXEL","preventDefault","scrollLeft","deltaX","scrollTop","deltaY","movesLeft","movesRight","clientWidth","scrollWidth","movesUp","movesDown","clientHeight","scrollHeight","passive","height","width","Element","hasAttribute","fpx","es","espo","em","emerge"],"mappings":"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","file":"docs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// See impl.md\n// Minifiable aliases\nvar Object_ = Object;\nvar NOP = Object_.prototype;\nvar has = NOP.hasOwnProperty;\nvar Array_ = Array;\nvar NAP = Array_.prototype;\n/** Fun **/\n// Tries to avoid allocation of `arguments` to minimize performance overhead.\n// As a side effect, the function is called with `this = fun`.\n\nexport function call(fun) {\n  return fun.call.apply(fun, arguments);\n} // Called with `this = fun` for consistency with `call` and `bind`.\n\nexport function apply(fun, args) {\n  return fun.apply(fun, args);\n} // Tries to avoid allocation of `arguments` to minimize performance overhead.\n// As a side effect, the function is called with `this = fun`.\n\nexport function bind(fun) {\n  return fun.bind.apply(fun, arguments);\n}\nexport function not(fun) {\n  validate(fun, isFunction);\n  return function not_() {\n    return !fun.apply(null, arguments);\n  };\n}\n/** Bool **/\n// Same as global `Boolean`, redefined for symmetry with `negate/falsy`.\n\nexport var bool = truthy;\nexport function truthy(value) {\n  return !!value; // eslint-disable-line no-implicit-coercion\n}\nexport var negate = falsy;\nexport function falsy(value) {\n  return !value;\n}\nexport function is(one, other) {\n  return one === other || isNaN(one) && isNaN(other);\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function isFinite(value) {\n  return isNumber(value) && !isNaN(value) && !isInfinity(value);\n}\nexport function isInteger(value) {\n  return isNumber(value) && value % 1 === 0;\n}\nexport function isNatural(value) {\n  return isInteger(value) && value >= 0;\n}\nexport function isNaN(value) {\n  return value !== value; // eslint-disable-line no-self-compare\n}\nexport function isInfinity(value) {\n  return value === Infinity || value === -Infinity;\n}\nexport function isString(value) {\n  return typeof value === 'string';\n}\nexport function isBoolean(value) {\n  return typeof value === 'boolean';\n}\nexport function isSymbol(value) {\n  return typeof value === 'symbol';\n}\nexport function isKey(value) {\n  return isString(value) || isSymbol(value) || isBoolean(value) || isFinite(value);\n}\nexport function isPrimitive(value) {\n  return !isComplex(value);\n}\nexport function isComplex(value) {\n  return isObject(value) || isFunction(value);\n}\nexport function isInstance(value, Class) {\n  return isComplex(value) && value instanceof Class;\n}\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\nexport function isObject(value) {\n  return value !== null && typeof value === 'object';\n}\nexport function isDict(value) {\n  if (!isObject(value)) return false;\n  var proto = Object_.getPrototypeOf(value);\n  return proto === null || proto === NOP;\n}\nexport function isStruct(value) {\n  return isObject(value) && !isList(value);\n}\nexport function isArray(value) {\n  return isInstance(value, Array_);\n}\nexport function isList(value) {\n  return isObject(value) && (isArray(value) || isNatural(value.length) && (!isDict(value) || has.call(value, 'callee')));\n}\nexport function isRegExp(value) {\n  return isInstance(value, RegExp);\n}\nexport function isDate(value) {\n  return isInstance(value, Date);\n}\nexport function isValidDate(value) {\n  return isDate(value) && isFinite(value.valueOf());\n}\nexport function isInvalidDate(value) {\n  return isDate(value) && !isValidDate(value);\n}\nexport function isPromise(value) {\n  return isComplex(value) && isFunction(value.then) && isFunction(value.catch);\n}\nexport function isIterator(value) {\n  return isObject(value) && isFunction(value.next) && isFunction(value.return) && isFunction(value.throw);\n}\nexport function isNil(value) {\n  return value == null;\n}\nexport function isSomething(value) {\n  return value != null;\n}\nexport function isEmpty(value) {\n  return !size(value);\n}\nexport function testBy(value, pattern) {\n  return isFunction(pattern) ? bool(pattern(value)) : isPrimitive(pattern) ? is(value, pattern) : isRegExp(pattern) ? isString(value) && pattern.test(value) : isList(pattern) ? isList(value) && every(pattern, testAt, value) : isStruct(pattern) ? isStruct(value) && everyVal(pattern, testAt, value) : false;\n}\n\nfunction testAt(pattern, key, value) {\n  return testBy(value[key], pattern);\n}\n\nexport function test(pattern) {\n  return function test_(value) {\n    return testBy(value, pattern);\n  };\n}\n/** Casts **/\n\nexport function onlyString(value) {\n  if (value == null) return '';\n  validate(value, isString);\n  return value;\n}\nexport function onlyList(value) {\n  if (value == null) return [];\n  validate(value, isList);\n  return value;\n}\nexport function onlyDict(value) {\n  if (value == null) return {};\n  validate(value, isDict);\n  return value;\n}\nexport function onlyStruct(value) {\n  if (value == null) return {};\n  validate(value, isStruct);\n  return value;\n}\nexport function toArray(value) {\n  return isArray(value) ? value : slice(value);\n}\n/** List **/\n\nexport function each(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    fun(list[i], i, a, b, c, d, e);\n  }\n}\nexport function fold(list, acc, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    acc = fun(acc, list[i], i, a, b, c, d, e);\n  }\n\n  return acc;\n}\nexport function foldRight(list, acc, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = list.length - 1; i >= 0; i -= 1) {\n    acc = fun(acc, list[i], i, a, b, c, d, e);\n  }\n\n  return acc;\n}\nexport function map(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var out = Array_(list.length);\n\n  for (var i = 0; i < list.length; i += 1) {\n    out[i] = fun(list[i], i, a, b, c, d, e);\n  }\n\n  return out;\n}\nexport function flatMap(list, fun, a, b, c, d, e) {\n  return flatten(map(list, fun, a, b, c, d, e));\n}\nexport function flatMapDeep(list, fun, a, b, c, d, e) {\n  return flattenDeep(map(list, fun, a, b, c, d, e));\n}\nexport function mapFilter(list, fun, a, b, c, d, e) {\n  return compact(map(list, fun, a, b, c, d, e));\n}\nexport function filter(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var out = [];\n\n  for (var i = 0; i < list.length; i += 1) {\n    if (fun(list[i], i, a, b, c, d, e)) out.push(list[i]);\n  }\n\n  return out;\n}\nexport function reject(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return filter(list, notBy, fun, a, b, c, d, e);\n}\n\nfunction notBy(value, key, fun, a, b, c, d, e) {\n  return !fun(value, key, a, b, c, d, e);\n}\n\nexport function compact(list) {\n  return filter(list, id);\n}\nexport function find(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  return list[findIndex(list, fun, a, b, c, d, e)];\n}\nexport function findRight(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  return list[findIndexRight(list, fun, a, b, c, d, e)];\n}\nexport function findIndex(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    if (fun(list[i], i, a, b, c, d, e)) return i;\n  }\n\n  return -1;\n}\nexport function findIndexRight(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = list.length; --i >= 0;) {\n    if (fun(list[i], i, a, b, c, d, e)) return i;\n  }\n\n  return -1;\n}\nexport function indexOf(list, value) {\n  return findIndex(list, isAt, value);\n}\nexport function lastIndexOf(list, value) {\n  return findIndexRight(list, isAt, value);\n}\n\nfunction isAt(candidate, _i, value) {\n  return is(candidate, value);\n}\n\nexport function includes(list, value) {\n  return indexOf(list, value) !== -1;\n}\nexport function procure(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    var result = fun(list[i], i, a, b, c, d, e);\n    if (result) return result;\n  }\n\n  return undefined;\n}\nexport function every(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    if (!fun(list[i], i, a, b, c, d, e)) return false;\n  }\n\n  return true;\n}\nexport function some(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n\n  for (var i = 0; i < list.length; i += 1) {\n    if (fun(list[i], i, a, b, c, d, e)) return true;\n  }\n\n  return false;\n}\nexport function slice(list, start, end) {\n  return NAP.slice.call(onlyList(list), start, end);\n}\nexport function append(list, value) {\n  return toArray(list).concat([value]);\n}\nexport function prepend(list, value) {\n  return [value].concat(toArray(list));\n}\nexport function remove(list, value) {\n  return removeAtIndex(list, indexOf(list, value));\n}\nexport function insertAtIndex(list, index, value) {\n  list = slice(list);\n  validate(index, isNatural);\n\n  if (!(index <= list.length)) {\n    throw Error(\"index \" + index + \" out of bounds for length \" + list.length);\n  }\n\n  list.splice(index, 0, value);\n  return list;\n}\nexport function removeAtIndex(list, index) {\n  list = onlyList(list);\n  validate(index, isInteger);\n\n  if (isNatural(index) && index < list.length) {\n    list = slice(list);\n    list.splice(index, 1);\n  }\n\n  return list;\n}\nexport function adjoin(list, value) {\n  return includes(list, value) ? toArray(list) : append(list, value);\n}\nexport function toggle(list, value) {\n  return includes(list, value) ? remove(list, value) : append(list, value);\n} // Uses native concat because it seems to perform very well in many JS engines.\n\nexport function concat() {\n  return NAP.concat.apply([], map(arguments, toArray));\n}\n/*\nThis could be made more efficient for very large and deep lists by\nprecalculating the length and allocating the result all at once. Unfortunately\nthis requires quite a bit of extra code and would be slower for relatively small\nlists. It would also be faster to use native array concat, but I haven't found a\nway to bypass `.apply` and the argument size limit.\n*/\n\nexport function flatten(list) {\n  var out = [];\n  each(list, pushFlat, out);\n  return out;\n}\n\nfunction pushFlat(value, _i, out) {\n  if (isList(value)) for (var i = 0; i < value.length; i += 1) {\n    out.push(value[i]);\n  } else out.push(value);\n}\n\nexport function flattenDeep(list) {\n  var out = [];\n  each(list, pushFlatDeep, out);\n  return out;\n}\n\nfunction pushFlatDeep(value, _key, out) {\n  if (isList(value)) each(value, pushFlatDeep, out);else out.push(value);\n}\n\nexport var first = head;\nexport function head(list) {\n  return onlyList(list)[0];\n}\nexport function tail(list) {\n  return slice(list, 1);\n}\nexport function init(list) {\n  list = onlyList(list);\n  return slice(list, 0, list.length - 1);\n}\nexport function last(list) {\n  list = onlyList(list);\n  return list[list.length - 1];\n}\nexport function take(list, count) {\n  validate(count, isNatural);\n  return slice(list, 0, count);\n}\nexport function drop(list, count) {\n  validate(count, isNatural);\n  return slice(list, count);\n}\nexport function reverse(list) {\n  list = onlyList(list);\n  var len = list.length;\n  var out = Array_(len);\n\n  for (var i = len; --i >= 0;) {\n    out[len - i - 1] = list[i];\n  }\n\n  return out;\n}\nexport function sort(list, comparator) {\n  return slice(list).sort(comparator);\n}\nexport function sortBy(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return sort(list, function compareBy(left, right) {\n    return sortCompare(fun(left, a, b, c, d, e), fun(right, a, b, c, d, e));\n  });\n} // https://tc39.github.io/ecma262/#sec-sortcompare\n\nfunction sortCompare(left, right) {\n  if (left === undefined && right === undefined) return 0;\n  if (left === undefined) return 1;\n  if (right === undefined) return -1;\n  left += ''; // eslint-disable-line no-implicit-coercion\n\n  right += ''; // eslint-disable-line no-implicit-coercion\n\n  if (left < right) return -1;\n  if (right < left) return 1;\n  return 0;\n}\n\nexport function intersection(left, right) {\n  left = onlyList(left);\n  right = onlyList(right);\n  var lr = left.length <= right.length;\n  var lesser = lr ? left : right;\n  var greater = lr ? right : left;\n  var out = [];\n  each(greater, intersectionAdd, out, lesser);\n  return out;\n}\n\nfunction intersectionAdd(value, _key, out, control) {\n  if (includes(control, value) && !includes(out, value)) out.push(value);\n}\n\nexport function keyBy(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var out = {};\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = list[i];\n    var key = fun(value, i, a, b, c, d, e);\n    if (isKey(key)) out[key] = value;\n  }\n\n  return out;\n}\nexport function groupBy(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var out = {};\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = list[i];\n    var groupKey = fun(value, i, a, b, c, d, e);\n\n    if (isKey(groupKey)) {\n      if (!has.call(out, groupKey)) out[groupKey] = [];\n      out[groupKey].push(value);\n    }\n  }\n\n  return out;\n}\nexport function uniq(list) {\n  return uniqBy(list, id);\n}\nexport function uniqBy(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var out = [];\n  var attrs = [];\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = list[i];\n    var attr = fun(value, i, a, b, c, d, e);\n\n    if (!includes(attrs, attr)) {\n      attrs.push(attr);\n      out.push(value);\n    }\n  }\n\n  return out;\n}\nexport function partition(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var accepted = [];\n  var rejected = [];\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = list[i];\n    if (fun(value, i, a, b, c, d, e)) accepted.push(value);else rejected.push(value);\n  }\n\n  return [accepted, rejected];\n}\nexport function sum(list) {\n  return sumBy(list, id);\n}\nexport function sumBy(list, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(fun, isFunction);\n  var acc = 0;\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = fun(list[i], i, a, b, c, d, e);\n    if (isFinite(value)) acc += value;\n  }\n\n  return acc;\n}\nexport function min(list) {\n  return minBy(list, id);\n}\nexport function max(list) {\n  return maxBy(list, id);\n}\nexport function minBy(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return fold(list, undefined, compareNumbersBy, lt, fun, a, b, c, d, e);\n}\nexport function maxBy(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return fold(list, undefined, compareNumbersBy, gt, fun, a, b, c, d, e);\n}\n\nfunction compareNumbersBy(acc, value, key, compare, fun, a, b, c, d, e) {\n  value = fun(value, key, a, b, c, d, e);\n  return !isFinite(value) ? acc : !isFinite(acc) || compare(value, acc) ? value : acc;\n}\n\nexport function findMinBy(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return findNumBy(list, lt, fun, a, b, c, d, e);\n}\nexport function findMaxBy(list, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return findNumBy(list, gt, fun, a, b, c, d, e);\n} // WTF too large\n\nfunction findNumBy(list, compare, fun, a, b, c, d, e) {\n  list = onlyList(list);\n  validate(compare, isFunction);\n  validate(fun, isFunction);\n  var winningValue = undefined;\n  var winningAttr = undefined;\n\n  for (var i = 0; i < list.length; i += 1) {\n    var value = list[i];\n    var attr = fun(value, i, a, b, c, d, e);\n\n    if (isFinite(attr) && (winningAttr == null || compare(attr, winningAttr))) {\n      winningValue = value;\n      winningAttr = attr;\n    }\n  }\n\n  return winningValue;\n} // Doesn't need validation: the Array constructor rejects NaN and negatives,\n// producing a decent error message.\n\n\nexport function range(start, end) {\n  var remaining = end - start;\n  var out = Array_(remaining);\n\n  while (--remaining >= 0) {\n    out[remaining] = start + remaining;\n  }\n\n  return out;\n}\n/**\n * Struct\n */\n\nexport function get(value, key) {\n  return value == null ? undefined : value[key];\n}\nexport function scan(value) {\n  for (var i = 1; i < arguments.length; i += 1) {\n    value = get(value, arguments[i]);\n  }\n\n  return value;\n}\nexport function getIn(value, path) {\n  validate(path, isList);\n\n  for (var i = 0; i < path.length; i += 1) {\n    value = get(value, path[i]);\n  }\n\n  return value;\n}\nexport function getter(key) {\n  validate(key, isKey);\n  return function get_(value) {\n    return get(value, key);\n  };\n} // Like `Object.keys`, but only for non-list objects.\n\nexport function keys(value) {\n  return Object_.keys(onlyStruct(value));\n} // Like `Object.values`, but only for non-list objects.\n\nexport function values(value) {\n  var out = keys(value);\n\n  for (var i = 0; i < out.length; i += 1) {\n    out[i] = value[out[i]];\n  }\n\n  return out;\n} // Like `Object.entries`, but only for non-list objects.\n\nexport function entries(value) {\n  var out = keys(value);\n\n  for (var i = 0; i < out.length; i += 1) {\n    out[i] = [out[i], value[out[i]]];\n  }\n\n  return out;\n}\nexport function eachVal(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    fun(struct[key], key, a, b, c, d, e);\n  }\n}\nexport function foldVals(struct, acc, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    acc = fun(acc, struct[key], key, a, b, c, d, e);\n  }\n\n  return acc;\n}\nexport function mapVals(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var out = {};\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    out[key] = fun(struct[key], key, a, b, c, d, e);\n  }\n\n  return out;\n}\nexport function mapKeys(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var out = {};\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    var value = struct[key];\n    var newKey = fun(key, value, a, b, c, d, e);\n    if (isKey(newKey)) out[newKey] = value;\n  }\n\n  return out;\n}\nexport function mapValsSort(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var out = keys(struct).sort();\n\n  for (var i = -1; ++i < out.length;) {\n    var key = out[i];\n    out[i] = fun(struct[key], key, a, b, c, d, e);\n  }\n\n  return out;\n}\nexport function pickBy(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var out = {};\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    var value = struct[key];\n    if (fun(value, key, a, b, c, d, e)) out[key] = value;\n  }\n\n  return out;\n}\nexport function omitBy(struct, fun, a, b, c, d, e) {\n  validate(fun, isFunction);\n  return pickBy(struct, notBy, fun, a, b, c, d, e);\n}\nexport function pickKeys(struct, keys) {\n  struct = onlyStruct(struct);\n  validateEach(keys, isKey);\n  var out = {};\n  each(keys, pickKnown, struct, out);\n  return out;\n}\n\nfunction pickKnown(key, _i, src, out) {\n  if (has.call(src, key)) out[key] = src[key];\n}\n\nexport function omitKeys(struct, keys) {\n  validateEach(keys, isKey);\n  var out = {};\n  assign(out, struct);\n  each(keys, deleteAt, out);\n  return out;\n}\n\nfunction deleteAt(key, _i, out) {\n  delete out[key];\n}\n\nexport function findVal(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    var value = struct[key];\n    if (fun(value, key, a, b, c, d, e)) return value;\n  }\n\n  return undefined;\n}\nexport function findKey(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    if (fun(struct[key], key, a, b, c, d, e)) return key;\n  }\n\n  return undefined;\n}\nexport function everyVal(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    if (!fun(struct[key], key, a, b, c, d, e)) return false;\n  }\n\n  return true;\n}\nexport function someVal(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    if (fun(struct[key], key, a, b, c, d, e)) return true;\n  }\n\n  return false;\n}\nexport function invert(struct) {\n  return invertBy(struct, id);\n}\nexport function invertBy(struct, fun, a, b, c, d, e) {\n  struct = onlyStruct(struct);\n  validate(fun, isFunction);\n  var out = {};\n  var inputKeys = keys(struct);\n\n  for (var i = 0; i < inputKeys.length; i += 1) {\n    var key = inputKeys[i];\n    var newKey = fun(struct[key], key, a, b, c, d, e);\n    if (isKey(newKey)) out[newKey] = key;\n  }\n\n  return out;\n}\n/** Coll **/\n// Only collections (lists and objects) have a size. Functions and primitives,\n// including strings, are considered empty.\n\nexport function size(value) {\n  return isList(value) ? value.length : isObject(value) ? keys(value).length : 0;\n}\nexport function vacate(value) {\n  return size(value) ? value : undefined;\n}\n/** Ops **/\n\nexport function add(a, b) {\n  return a + b;\n}\nexport function sub(a, b) {\n  return a - b;\n}\nexport function mul(a, b) {\n  return a * b;\n}\nexport function div(a, b) {\n  return a / b;\n}\nexport function rem(a, b) {\n  return a % b;\n}\nexport function lt(a, b) {\n  return a < b;\n}\nexport function gt(a, b) {\n  return a > b;\n}\nexport function lte(a, b) {\n  return a <= b;\n}\nexport function gte(a, b) {\n  return a >= b;\n}\nexport function inc(a) {\n  return a + 1;\n}\nexport function dec(a) {\n  return a - 1;\n}\n/** Misc **/\n// The \"pure\" annotation allows UglifyJS to drop this if the result is unused.\n\nexport var global =\n/* #__PURE__ */\nFunction('return this')(); // eslint-disable-line no-new-func\n\nexport function id(value) {\n  return value;\n}\nexport function di(_, value) {\n  return value;\n}\nexport function val(value) {\n  return bind(id, value);\n}\nexport function noop() {}\nexport function rethrow(value) {\n  throw value;\n}\nexport function assign(target) {\n  validate(target, isComplex);\n\n  for (var i = 1; i < arguments.length; ++i) {\n    eachVal(arguments[i], setAt, target);\n  }\n}\n\nfunction setAt(value, key, target) {\n  target[key] = value;\n}\n\nexport function maskBy(value, pattern) {\n  return isFunction(pattern) ? pattern(value) : isPrimitive(pattern) ? pattern : isRegExp(pattern) ? onlyString(value).match(pattern) : isList(pattern) ? map(pattern, maskAt, onlyList(value)) : isStruct(pattern) ? mapVals(pattern, maskAt, onlyStruct(value)) : undefined;\n}\n\nfunction maskAt(pattern, key, value) {\n  return maskBy(value[key], pattern);\n}\n\nexport function mask(pattern) {\n  return function mask_(value) {\n    return maskBy(value, pattern);\n  };\n}\nexport function validate(value, test) {\n  if (!isFunction(test)) {\n    throw Error(\"expected validator function, got \" + show(test));\n  }\n\n  if (!test(value)) {\n    throw Error(\"expected \" + show(value) + \" to satisfy test \" + show(test));\n  }\n}\nexport function validateEach(list, test) {\n  validate(list, isList);\n\n  for (var i = 0; i < list.length; i += 1) {\n    if (!test(list[i])) {\n      throw Error(\"expected \" + show(list[i]) + \" at index \" + i + \" to satisfy test \" + show(test));\n    }\n  }\n}\nexport function validateInstance(value, Class) {\n  if (!isInstance(value, Class)) {\n    throw Error(\"expected \" + show(value) + \" to be an instance of \" + show(Class));\n  }\n}\nexport function show(value) {\n  return isFunction(value) && value.name ? value.name : isArray(value) || isDict(value) ? JSON.stringify(value) : isString(value) ? \"\\\"\" + value + \"\\\"\" : String(value);\n}","var Object_ = Object;\n\nvar NOP = Object_.prototype;\n\nvar create = Object_.create;\n\nvar getOwnPropertyDescriptors = Object_.getOwnPropertyDescriptors;\n\nvar getPrototypeOf = Object_.getPrototypeOf;\n\nvar hasOwnProperty = NOP.hasOwnProperty;\n\nvar Array_ = Array;\n\nvar NAP = Array_.prototype;\n\nvar global = Function(\"return this\")();\n\nvar ESPO_CONTEXT = global.ESPO_CONTEXT || (global.ESPO_CONTEXT = {});\n\nexport function isDeinitable(t) {\n    return isComplex(t) && isFunction(t.deinit);\n};\n\nexport function isOwner(t) {\n    return isDeinitable(t) && isFunction(t.unown);\n};\n\nexport function isRef(t) {\n    return isComplex(t) && isFunction(t.deref);\n};\n\nexport function isSubscription(t) {\n    return isDeinitable(t) && isFunction(t.trigger);\n};\n\nexport function isObservable(t) {\n    return isDeinitable(t) && isFunction(t.subscribe) && isFunction(t.unsubscribe) && isFunction(t.trigger);\n};\n\nexport function isObservableRef(t) {\n    return isRef(t) && isObservable(t) && \"$\" in t;\n};\n\nexport function isAtom(t) {\n    return isObservableRef(t) && isFunction(t.swap) && isFunction(t.reset);\n};\n\nexport function isAgent(t) {\n    return isAtom(t) && isOwner(t);\n};\n\nvar ACTIVE = \"ACTIVE\";\n\nvar IDLE = \"IDLE\";\n\nvar PENDING = \"PENDING\";\n\nvar TRIGGERED = \"TRIGGERED\";\n\nexport function Subscription(t, i) {\n    validateInstance(this, Subscription);\n    validate(t, isObservable);\n    validate(i, isFunction);\n    this.state = ACTIVE;\n    this.t = t;\n    this.i = i;\n};\n\nSubscription.prototype = {\n    constructor: Subscription,\n    states: {\n        ACTIVE: ACTIVE,\n        IDLE: IDLE\n    },\n    trigger: function trigger() {\n        if (this.state === ACTIVE) {\n            this.i.apply(this, arguments);\n        }\n    },\n    deinit: function deinit() {\n        if (this.state === ACTIVE) {\n            this.state = IDLE;\n            this.t.unsubscribe(this);\n        }\n    }\n};\n\nexport function Observable() {\n    this.state = IDLE;\n    this.e = [];\n    this.n = [];\n    this.r = false;\n};\n\nvar OP = Observable.prototype = {\n    constructor: Observable,\n    states: {\n        IDLE: IDLE,\n        ACTIVE: ACTIVE\n    },\n    onInit: function onInit() {},\n    onDeinit: function onDeinit() {},\n    subscribe: function subscribe(t) {\n        validate(t, isFunction);\n        if (this.state === IDLE) {\n            this.state = ACTIVE;\n            this.onInit();\n        }\n        var i = new Subscription(this, t);\n        this.e.push(i);\n        return i;\n    },\n    unsubscribe: function unsubscribe(t) {\n        pull(this.e, t);\n        if (this.state === ACTIVE && !this.e.length) {\n            this.state = IDLE;\n            this.onDeinit();\n        }\n    },\n    trigger: function trigger() {\n        var t = this;\n        t.n.push(arguments);\n        if (t.r) return;\n        t.r = true;\n        while (t.n.length) {\n            var i = t.n.shift();\n            var e = t.e.slice();\n            var n = undefined;\n            for (var r = 0; r < e.length; r += 1) {\n                var s = e[r];\n                try {\n                    s.trigger.apply(s, i);\n                } catch (t) {\n                    if (!n) n = t;\n                }\n            }\n            if (n) {\n                t.n.length = 0;\n                t.r = false;\n                throw n;\n            }\n        }\n        t.r = false;\n    },\n    deinit: function deinit() {\n        flushBy(this.e, _deinit);\n    }\n};\n\nexport function Atom(t) {\n    validateInstance(this, Atom);\n    Observable.call(this);\n    this.s = t;\n};\n\nvar AP = Atom.prototype = create(OP, getOwnPropertyDescriptors({\n    constructor: Atom,\n    get $() {\n        contextSubscribe(this);\n        return this.deref();\n    },\n    set $(t) {\n        this.reset(t);\n    },\n    deref: function deref() {\n        return this.s;\n    },\n    swap: function swap(t) {\n        validate(t, isFunction);\n        arguments[0] = this.deref();\n        this.reset(t.apply(undefined, arguments));\n    },\n    reset: function reset(t) {\n        var i = this.s;\n        if (is(i, t)) return;\n        this.s = t;\n        this.trigger(this);\n    }\n}));\n\nexport function Agent(t) {\n    validateInstance(this, Agent);\n    Atom.call(this, t);\n};\n\nAgent.prototype = create(AP, getOwnPropertyDescriptors({\n    constructor: Agent,\n    reset: function reset(t) {\n        var i = this.s;\n        if (is(i, t)) return;\n        this.s = t;\n        deinitDiff(i, t);\n        this.trigger(this);\n    },\n    unown: function unown() {\n        var t = this.s;\n        this.s = undefined;\n        try {\n            this.trigger(this);\n            return t;\n        } catch (i) {\n            deinitDiff(t);\n            throw i;\n        }\n    },\n    deinit: function deinit() {\n        try {\n            AP.deinit.call(this);\n        } finally {\n            deinitDeep(this.s);\n        }\n    }\n}));\n\nexport function Reaction() {\n    var t = this;\n    validateInstance(t, Reaction);\n    t.state = IDLE;\n    t.o = undefined;\n    t.u = undefined;\n};\n\nReaction.prototype = {\n    constructor: Reaction,\n    states: {\n        IDLE: IDLE,\n        ACTIVE: ACTIVE,\n        PENDING: PENDING,\n        TRIGGERED: TRIGGERED\n    },\n    run: function run(t, i) {\n        validate(t, isFunction);\n        validate(i, isFunction);\n        var e = this;\n        rejectState(e.state, ACTIVE);\n        e.state = ACTIVE;\n        e.u = onlyEmptyArray(e.u);\n        var n = reactionTrigger.bind(e, i);\n        var r = reactionSubscribe.bind(e, n);\n        var s = replaceContextSubscribe(r);\n        try {\n            return t();\n        } finally {\n            var o = e.o;\n            var u = e.u;\n            e.o = u;\n            e.u = o;\n            if (o) flushBy(o, _deinit);\n            if (e.state === ACTIVE) e.state = PENDING;\n            replaceContextSubscribe(s);\n        }\n    },\n    loop: function loop(t) {\n        validate(t, isFunction);\n        var i = this;\n        function reactionLoop() {\n            i.run(t, reactionLoop);\n        }\n        reactionLoop();\n    },\n    deinit: function deinit() {\n        var t = this;\n        rejectState(t.state, ACTIVE);\n        t.state = IDLE;\n        if (t.o) flushBy(t.o, _deinit);\n        if (t.u) flushBy(t.u, _deinit);\n    }\n};\n\nReaction.loop = function loop(t) {\n    validate(t, isFunction);\n    var i = new this();\n    try {\n        i.loop(t);\n        return i;\n    } catch (t) {\n        i.deinit();\n        throw t;\n    }\n};\n\nfunction reactionTrigger(t) {\n    var i = this;\n    if (i.state === TRIGGERED) {\n        return;\n    }\n    if (i.state === PENDING) {\n        this.state = TRIGGERED;\n        t();\n        return;\n    }\n    unexpectedState(i.state);\n}\n\nfunction reactionSubscribe(t, i) {\n    validate(i, isObservable);\n    var e = this;\n    if (e.state === ACTIVE) {\n        var n = i.subscribe(t);\n        e.u.push(n);\n        return;\n    }\n    unexpectedState(e.state);\n}\n\nexport function Computation(t, i) {\n    var e = this;\n    validateInstance(e, Computation);\n    validate(t, isFunction);\n    validate(i, isFunction);\n    Observable.call(e);\n    e.a = t;\n    e.c = i;\n    e.f = new Reaction();\n    e.s = undefined;\n    e.d = computationUpdate.bind(undefined, e);\n};\n\nComputation.prototype = create(OP, getOwnPropertyDescriptors({\n    constructor: Computation,\n    get $() {\n        if (this.state === IDLE) {\n            this.s = this.a(this.f);\n        }\n        contextSubscribe(this);\n        return this.s;\n    },\n    deref: function deref() {\n        return this.s;\n    },\n    onInit: function onInit() {\n        this.f.loop(this.d);\n    },\n    onDeinit: function onDeinit() {\n        this.f.deinit();\n    }\n}));\n\nfunction computationUpdate(t, i) {\n    var e = t.s;\n    var n = t.a(i);\n    var r = t.c;\n    if (!r(e, n)) {\n        t.s = n;\n        t.trigger(t);\n    }\n}\n\nexport function computation(t) {\n    return new Computation(t, is);\n};\n\nexport function Query(t, i, e) {\n    var n = this;\n    validateInstance(n, Query);\n    validate(t, isObservableRef);\n    validate(i, isFunction);\n    validate(e, isFunction);\n    Observable.call(n);\n    n.h = t;\n    n.v = i;\n    n.c = e;\n    n.s = undefined;\n    n.l = undefined;\n    n.p = onQueryTrigger.bind(undefined, n);\n};\n\nQuery.prototype = create(OP, getOwnPropertyDescriptors({\n    constructor: Query,\n    get $() {\n        if (this.state === IDLE) this.s = queryDeref(this);\n        contextSubscribe(this);\n        return this.s;\n    },\n    deref: function deref() {\n        return this.s;\n    },\n    onInit: function onInit() {\n        this.l = this.h.subscribe(this.p);\n        this.s = queryDeref(this);\n    },\n    onDeinit: function onDeinit() {\n        this.l.deinit();\n        this.l = undefined;\n    }\n}));\n\nfunction onQueryTrigger(t) {\n    var i = t.s;\n    var e = queryDeref(t);\n    var n = t.c;\n    if (!n(i, e)) {\n        t.s = e;\n        t.trigger(t);\n    }\n}\n\nfunction queryDeref(t) {\n    var i = t.v;\n    return i(t.h.deref());\n}\n\nexport function query(t, i) {\n    return new Query(t, i, is);\n};\n\nexport function PathQuery(t, i, e) {\n    validateInstance(this, PathQuery);\n    validate(t, isObservableRef);\n    validate(i, isPath);\n    function getAtPath(t) {\n        return getIn(t, i);\n    }\n    Query.call(this, t, getAtPath, e);\n};\n\nPathQuery.prototype = create(Query.prototype, getOwnPropertyDescriptors({\n    constructor: PathQuery\n}));\n\nexport function pathQuery(t, i) {\n    return new PathQuery(t, i, is);\n};\n\nfunction _deinit(t) {\n    if (isDeinitable(t)) t.deinit();\n}\n\nexport { _deinit as deinit };\n\nexport function deinitDiff(t, i) {\n    deinitDiffAcyclic(t, i, setNew());\n};\n\nexport function deinitDeep(t) {\n    deinitDiffAcyclic(t, undefined, setNew());\n};\n\nexport function unown(t) {\n    return isOwner(t) ? t.unown() : undefined;\n};\n\nexport function deref(t) {\n    return isRef(t) ? t.deref() : t;\n};\n\nexport function derefDeep(t) {\n    while (isRef(t)) {\n        var i = t.deref();\n        if (i === t) return i;\n        t = i;\n    }\n    return t;\n};\n\nexport function derefIn(t, i) {\n    return getIn(derefDeep(t), i);\n};\n\nexport function scan(t) {\n    var i = NAP.slice.call(arguments, 1);\n    if (ESPO_CONTEXT.subscribe && isObservableRef(t)) {\n        return pathQuery(t, i).$;\n    }\n    return derefIn(t, i);\n};\n\nexport function flushBy(t, i, e, n, r) {\n    validate(i, isFunction);\n    validate(t, isQue);\n    try {\n        while (t.length) {\n            i.call(this, t.shift(), e, n, r);\n        }\n    } catch (s) {\n        flushBy.call(this, t, i, e, n, r);\n        throw s;\n    }\n};\n\nexport function contextSubscribe(t) {\n    validate(t, isObservable);\n    var i = ESPO_CONTEXT.subscribe;\n    if (i) i(t);\n};\n\nexport function replaceContextSubscribe(t) {\n    if (t) validate(t, isFunction);\n    var i = ESPO_CONTEXT.subscribe;\n    ESPO_CONTEXT.subscribe = t;\n    return i;\n};\n\nfunction deinitDiffAcyclic(t, i, e) {\n    if (is(t, i)) return;\n    if (isDeinitable(t)) {\n        t.deinit();\n        return;\n    }\n    if (!isArray(t) && !isDict(t)) return;\n    if (setHas(e, t)) return;\n    setAdd(e, t);\n    diffAndDeinit(t, i, e);\n}\n\nfunction diffAndDeinit(t, i, e) {\n    if (isArray(t)) {\n        var n = isArray(i);\n        var r = undefined;\n        for (var s = 0; s < t.length; s += 1) {\n            var o = t[s];\n            if (n && includes(i, o)) continue;\n            var u = n ? i[s] : undefined;\n            try {\n                deinitDiffAcyclic(t[s], u, e);\n            } catch (t) {\n                r = t;\n            }\n        }\n        if (r) throw r;\n        return;\n    }\n    var a = isDict(i);\n    var c = undefined;\n    for (var f in t) {\n        var d = a ? i[f] : undefined;\n        try {\n            deinitDiffAcyclic(t[f], d, e);\n        } catch (t) {\n            c = t;\n        }\n    }\n    if (c) throw c;\n}\n\nvar setNew = undefined;\n\nvar setAdd = undefined;\n\nvar setHas = undefined;\n\nif (typeof Set === \"function\") {\n    setNew = function setNew() {\n        return new Set();\n    };\n    setAdd = function setAdd(t, i) {\n        t.add(i);\n    };\n    setHas = function setHas(t, i) {\n        return t.has(i);\n    };\n} else {\n    setNew = function setNew() {\n        return [];\n    };\n    setAdd = function setAdd(t, i) {\n        t.push(i);\n    };\n    setHas = function setHas(t, i) {\n        return includes(t, i);\n    };\n}\n\nfunction get(t, i) {\n    return t == null ? undefined : t[i];\n}\n\nfunction getIn(t, i) {\n    validate(i, isList);\n    for (var e = 0; e < i.length; e += 1) {\n        t = get(t, i[e]);\n    }\n    return t;\n}\n\nfunction pull(t, i) {\n    validate(t, isArray);\n    var e = indexOf(t, i);\n    if (e !== -1) t.splice(e, 1);\n    return t;\n}\n\nfunction includes(t, i) {\n    return indexOf(t, i) !== -1;\n}\n\nfunction indexOf(t, i) {\n    for (var e = 0; e < t.length; e += 1) {\n        if (is(t[e], i)) return e;\n    }\n    return -1;\n}\n\nfunction is(t, i) {\n    return t === i || isNaN(t) && isNaN(i);\n}\n\nfunction isNaN(t) {\n    return t !== t;\n}\n\nfunction isNatural(t) {\n    return typeof t === \"number\" && t % 1 === 0 && t >= 0;\n}\n\nfunction isPrimitive(t) {\n    return !isComplex(t);\n}\n\nfunction isComplex(t) {\n    return isObject(t) || isFunction(t);\n}\n\nfunction isInstance(t, i) {\n    return isComplex(t) && t instanceof i;\n}\n\nfunction isFunction(t) {\n    return typeof t === \"function\";\n}\n\nfunction isObject(t) {\n    return t !== null && typeof t === \"object\";\n}\n\nfunction isDict(t) {\n    if (!isObject(t)) return false;\n    var i = getPrototypeOf(t);\n    return i === null || i === NOP;\n}\n\nfunction isArray(t) {\n    return isInstance(t, Array_);\n}\n\nfunction isList(t) {\n    return isObject(t) && (isArray(t) || isNatural(t.length) && (!isDict(t) || hasOwnProperty.call(t, \"callee\")));\n}\n\nfunction isQue(t) {\n    return isObject(t) && isNatural(t.length) && isFunction(t.push) && isFunction(t.shift);\n}\n\nfunction isPath(t) {\n    return isList(t) && NAP.every.call(t, isPrimitive);\n}\n\nfunction validate(t, i) {\n    if (!i(t)) throw Error(\"expected \" + show(t) + \" to satisfy test \" + show(i));\n}\n\nfunction validateInstance(t, i) {\n    if (!isInstance(t, i)) {\n        throw Error(\"expected \" + show(t) + \" to be an instance of \" + show(i));\n    }\n}\n\nfunction rejectState(t, i) {\n    if (t === i) unexpectedState(t);\n}\n\nfunction unexpectedState(t) {\n    throw Error(\"unexpected state \" + show(t));\n}\n\nfunction show(t) {\n    return isFunction(t) && t.name ? t.name : isArray(t) || isDict(t) ? JSON.stringify(t) : String(t);\n}\n\nfunction onlyEmptyArray(t) {\n    if (t == null) return [];\n    validate(t, isArray);\n    if (t.length) throw Error(\"expected empty array\");\n    return t;\n}","/*\n\n# Glossary\n\nput               = replace property by key or index, attempting to preserve old references\npatch             = combines dicts, preserving old references where possible\nmerge             = deep patch that combines dicts at all levels\nnil               = null | undefined\nvalue             = primitive | list | plain dict\n\n\n# Internal glossary\n\nassoc = insert value at key or path without attempting to preserve references\n        (weaker than put or patch)\n\n\n# Rules\n\nWhen making new values, omit nil properties.\n\nTreat non-value objects atomically: include and replace them entirely,\nwithout cloning.\n\n\n# Performance notes\n\nEmerge seeks a balance of performance and simplicity.\n\n`put`, `patch` and other functions tend to speculatively create a new data\nstructure before testing it for equality, possibly throwing it away. Should\nrevisit the code and avoid this, where possible.\n\n`putIn` could be defined as recursive `put`, but would be significantly\nslower due to redundant equality checks on every level. Instead, we put\nand check once, then assoc faster.\n\n`putBy` and `putInBy` use a fixed number of extra arguments to avoid the\nrest/spread overhead, which for small inputs is comparable to the actual work\ndone by these functions. Native rest/spread would have acceptable performance,\nbut we're targeting ES5.\n\n\n# TODO\n\nAdd benchmarks with large real-world data.\n\n*/\n\n// Minifiable aliases\nvar Object_ = Object;\nvar getKeys = Object_.keys;\nvar NOP = Object.prototype;\nvar has = NOP.hasOwnProperty;\nvar Array_ = Array;\nvar NAP = Array_.prototype;\n\n/**\n * Boolean\n */\n\nexport function is(one, other) {\n  return one === other || isNaN(one) && isNaN(other);\n}\n\nexport function equal(one, other) {\n  return equalBy(other, one, equal);\n}\n\nexport function equalBy(one, other, fun) {\n  validate(fun, isFunction);\n  return is(one, other) || (isArray(one) ? isArray(other) && everyListPairBy(one, other, fun) : isDict(one) ? isDict(other) && everyDictPairBy(one, other, fun) : false);\n}\n\n/**\n * Get\n */\n\nexport function get(value, key) {\n  return value == null ? undefined : value[key];\n}\n\nexport function getIn(value, path) {\n  validate(path, isArray);\n  for (var i = 0; i < path.length; i += 1) {\n    value = get(value, path[i]);\n  }return value;\n}\n\nexport function scan(value) {\n  for (var i = 1; i < arguments.length; i += 1) {\n    value = get(value, arguments[i]);\n  }return value;\n}\n\n/**\n * Update\n */\n\nexport function put(prev, key, value) {\n  validate(key, isPrimitive);\n  return assoc(prev, key, putAny(get(prev, key), value));\n}\n\nexport function putIn(prev, path, next) {\n  validate(path, isPath);\n  return assocIn(prev, path, putAny(getIn(prev, path), next));\n}\n\nexport function putBy(prev, key, fun, a, b, c, d, e, f, g, h, i, j) {\n  validate(fun, isFunction);\n  return put(prev, key, fun(get(prev, key), a, b, c, d, e, f, g, h, i, j));\n}\n\nexport function putInBy(prev, path, fun, a, b, c, d, e, f, g, h, i, j) {\n  validate(fun, isFunction);\n  return putIn(prev, path, fun(getIn(prev, path), a, b, c, d, e, f, g, h, i, j));\n}\n\nexport function patch(prev, next) {\n  if (arguments.length > 2) return NAP.reduce.call(arguments, patchTwoDicts);\n  return patchTwoDicts(prev, next);\n}\n\nexport function merge(prev, next) {\n  if (arguments.length > 2) return NAP.reduce.call(arguments, mergeTwoDicts);\n  return mergeTwoDicts(prev, next);\n}\n\nexport function insertAtIndex(list, index, value) {\n  list = alwaysArray(list);\n  validateBounds(list, index);\n  list = NAP.slice.call(list);\n  list.splice(index, 0, value);\n  return list;\n}\n\nexport function removeAtIndex(list, index) {\n  validate(index, isInteger);\n  list = alwaysArray(list);\n  if (isNatural(index) && index < list.length) {\n    list = NAP.slice.call(list);\n    list.splice(index, 1);\n  }\n  return list;\n}\n\n/**\n * Update (internal)\n */\n\nfunction putAny(prev, next) {\n  return is(prev, next) ? prev : isArray(prev) ? isArray(next) ? replaceListBy(prev, next, putAny) : next : isDict(prev) ? isDict(next) ? replaceDictBy(prev, next, putAny) : next : next;\n}\n\nfunction patchTwoDicts(prev, next) {\n  prev = alwaysDict(prev);\n  next = alwaysDict(next);\n  if (is(prev, next)) return prev;\n  return patchDictBy(prev, next, putAny);\n}\n\nfunction mergeTwoDicts(prev, next) {\n  return mergeTwo(alwaysDict(prev), alwaysDict(next));\n}\n\nfunction mergeTwo(prev, next) {\n  if (is(prev, next)) return prev;\n  return patchDictBy(toDict(prev), toDict(next), mergeOrPut);\n}\n\nfunction mergeOrPut(prev, next) {\n  return isDict(next) ? mergeTwo(prev, next) : putAny(prev, next);\n}\n\nfunction assoc(prev, key, next) {\n  if (isArray(prev)) return assocAtIndex(prev, key, next);\n  return assocAtKey(alwaysDict(prev), key, next);\n}\n\nfunction assocIn(prev, path, next) {\n  return !path.length ? next : assocInAt(prev, path, next, 0);\n}\n\nfunction assocInAt(prev, path, next, index) {\n  var key = path[index];\n  return index < path.length - 1 ? assoc(prev, key, assocInAt(get(prev, key), path, next, index + 1)) : assoc(prev, key, next);\n}\n\nfunction assocAtIndex(list, index, value) {\n  validateBounds(list, index);\n  if (index < list.length && is(list[index], value)) return list;\n  var out = NAP.slice.call(list);\n  out[index] = value;\n  return out;\n}\n\nfunction assocAtKey(dict, key, value) {\n  key = toKey(key);\n  if (value == null) {\n    if (!has.call(dict, key)) return dict;\n  } else if (is(dict[key], value)) {\n    return dict;\n  }\n  var out = {};\n  var prevKeys = getKeys(dict);\n  for (var i = 0; i < prevKeys.length; i += 1) {\n    var prevKey = prevKeys[i];\n    if (prevKey !== key && dict[prevKey] != null) out[prevKey] = dict[prevKey];\n  }\n  if (value != null) out[key] = value;\n  return out;\n}\n\nfunction replaceListBy(prev, next, fun) {\n  var out = Array_(next.length);\n  for (var i = 0; i < next.length; i += 1) {\n    out[i] = fun(prev[i], next[i]);\n  }return equalBy(prev, out, is) ? prev : out;\n}\n\nfunction replaceDictBy(prev, next, fun) {\n  var out = {};\n  var nextKeys = getKeys(next);\n  for (var i = 0; i < nextKeys.length; i += 1) {\n    var key = nextKeys[i];\n    var value = fun(prev[key], next[key]);\n    if (value != null) out[key] = value;\n  }\n  return equalBy(prev, out, is) ? prev : out;\n}\n\nfunction patchDictBy(prev, next, fun) {\n  var out = {};\n  var prevKeys = getKeys(prev);\n  for (var i = 0; i < prevKeys.length; i += 1) {\n    var key = prevKeys[i];\n    if (prev[key] != null && !has.call(next, key)) out[key] = prev[key];\n  }\n  var nextKeys = getKeys(next);\n  for (var _i = 0; _i < nextKeys.length; _i += 1) {\n    var _key = nextKeys[_i];\n    var value = fun(prev[_key], next[_key]);\n    if (value != null) out[_key] = value;\n  }\n  return equalBy(prev, out, is) ? prev : out;\n}\n\n/**\n * Utils\n */\n\nfunction isPrimitive(value) {\n  return !isObject(value) && !isFunction(value);\n}\n\nfunction isNaN(value) {\n  return value !== value; // eslint-disable-line no-self-compare\n}\n\nfunction isObject(value) {\n  return value !== null && typeof value === 'object';\n}\n\nfunction isDict(value) {\n  if (!isObject(value)) return false;\n  var proto = Object_.getPrototypeOf(value);\n  return proto === null || proto === NOP;\n}\n\nfunction isArray(value) {\n  return isObject(value) && value instanceof Array_;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction isInteger(value) {\n  return typeof value === 'number' && value % 1 === 0;\n}\n\nfunction isNatural(value) {\n  return isInteger(value) && value >= 0;\n}\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\nfunction isPath(value) {\n  return isArray(value) && everyBy(value, isPrimitive);\n}\n\nfunction everyListPairBy(one, other, fun) {\n  return one.length === other.length && everyBy(one, compareAtIndexBy, other, fun);\n}\n\nfunction compareAtIndexBy(value, index, list, fun) {\n  return fun(value, list[index]);\n}\n\nfunction everyDictPairBy(one, other, fun) {\n  var keys = getKeys(one);\n  return keys.length === getKeys(other).length &&\n  // Breadth-first check in case a key has been added or removed\n  everyBy(keys, hasAt, other) &&\n  // Now a depth-first comparison\n  everyBy(keys, compareAtKeyBy, fun, one, other);\n}\n\nfunction hasAt(key, _index, dict) {\n  return has.call(dict, key);\n}\n\nfunction compareAtKeyBy(key, _index, fun, one, other) {\n  return fun(one[key], other[key]);\n}\n\nfunction everyBy(list, fun, a, b, c) {\n  for (var i = 0; i < list.length; i += 1) {\n    if (!fun(list[i], i, a, b, c)) return false;\n  }\n  return true;\n}\n\nfunction alwaysArray(value) {\n  if (value == null) return [];\n  validate(value, isArray);\n  return value;\n}\n\nfunction toDict(value) {\n  return isDict(value) ? value : {};\n}\n\nfunction alwaysDict(value) {\n  if (value == null) return {};\n  validate(value, isDict);\n  return value;\n}\n\nfunction toKey(value) {\n  return typeof value === 'symbol' ? value : String(value);\n}\n\nfunction validateBounds(list, index) {\n  validate(index, isNatural);\n  if (!(index <= list.length)) {\n    throw Error('Index ' + index + ' out of bounds for length ' + list.length);\n  }\n}\n\nfunction validate(value, test) {\n  if (!test(value)) throw Error('Expected ' + show(value) + ' to satisfy test ' + show(test));\n}\n\nfunction show(value) {\n  return isFunction(value) ? value.name || value.toString() : isArray(value) || isDict(value) ? JSON.stringify(value) : isString(value) ? '\"' + value + '\"' : String(value);\n}","import * as f from 'fpx'\n\n/**\n * Init\n */\n\nconst scroller = throttle(updateLinksAndHash, {delay: 128})\n\nwindow.addEventListener('scroll', scroller.call)\n\nwindow.addEventListener('wheel', function preventSpill(event) {\n  const node = findAncestor(event.target, shouldPreventSpill)\n  if (node) scrollWithoutSpill(node, event)\n}, {passive: false})\n\nfunction updateLinksAndHash() {\n  const id = f.procure(document.querySelectorAll('#main [id]'), getVisibleId)\n  if (id) {\n    setHash(id)\n    updateSidenavLinks(id)\n  }\n  else {\n    unsetHash(id)\n  }\n}\n\nfunction updateSidenavLinks(id) {\n  f.slice(document.querySelectorAll('#sidenav a[aria-current]')).forEach(deactivate)\n  const link = document.querySelector(`#sidenav a[href*=\"#${id}\"]`)\n  if (link) {\n    activate(link)\n    scrollIntoViewIfNeeded(link)\n  }\n}\n\nfunction activate(elem) {\n  elem.setAttribute('aria-current', 'true')\n}\n\nfunction deactivate(elem) {\n  elem.removeAttribute('aria-current')\n}\n\n/**\n * Utils\n */\n\n// Pixel measurements are inaccurate when the browser is zoomed in or out, so we\n// have to use a small non-zero value in some geometry checks.\nconst PX_ERROR_MARGIN = 3\n\nfunction throttle(fun, options) {\n  f.validate(fun, f.isFunction)\n  let active = true\n  let timerId = null\n  let tailPending = false\n  const delay = options && options.delay\n\n  function call() {\n    if (!active) return\n    if (timerId) {\n      tailPending = true\n      return\n    }\n    try {fun()}\n    finally {restartThrottle()}\n  }\n\n  function restartThrottle() {\n    if (!active) return\n\n    clearTimeout(timerId)\n    timerId = null\n\n    timerId = setTimeout(function onThrottledTimer() {\n      timerId = null\n      if (tailPending) restartThrottle()\n      tailPending = false\n      fun()\n    }, delay)\n  }\n\n  function deinit() {\n    active = false\n    clearTimeout(timerId)\n    timerId = null\n  }\n\n  return {call, deinit}\n}\n\nfunction getVisibleId(elem) {\n  return (elem && hasArea(elem) && isWithinViewport(elem)) ? elem.id : undefined\n}\n\nfunction findAncestor(node, test) {\n  return !node\n    ? null\n    : test(node)\n    ? node\n    : findAncestor(node.parentNode, test)\n}\n\nfunction hasArea(elem) {\n  const {height, width} = elem.getBoundingClientRect()\n  return height > 0 && width > 0\n}\n\nfunction isWithinViewport(elem) {\n  const {top, bottom} = elem.getBoundingClientRect()\n  return (\n    (bottom > -PX_ERROR_MARGIN && bottom < window.innerHeight) ||\n    (top > PX_ERROR_MARGIN && top < (window.innerHeight + PX_ERROR_MARGIN))\n  )\n}\n\n// Not good enough; we should probably scroll an element into view unless it's\n// MOSTLY visible, not just partially visible.\nfunction isKindaVisible(elem) {\n  const {top, bottom} = elem.getBoundingClientRect()\n  return (\n    (bottom > PX_ERROR_MARGIN && bottom < window.innerHeight) ||\n    (top > PX_ERROR_MARGIN && top < (window.innerHeight - PX_ERROR_MARGIN))\n  )\n}\n\nfunction setHash(id) {\n  window.history.replaceState(null, '', `#${id}`)\n}\n\nfunction unsetHash() {\n  window.history.replaceState(null, '', '')\n}\n\nfunction scrollIntoViewIfNeeded(elem) {\n  if (!isKindaVisible(elem)) elem.scrollIntoView()\n}\n\nfunction shouldPreventSpill(elem) {\n  return f.isInstance(elem, Element) && elem.hasAttribute('data-nospill')\n}\n\n// Reference: https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent.\nfunction scrollWithoutSpill(elem, event) {\n  if (event.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n    scrollWithoutSpillModePixels(elem, event)\n  }\n  else {\n    scrollWithoutSpillModeLinesOrPages(elem, event)\n  }\n}\n\n// Precise but requires `event.deltaMode === WheelEvent.DOM_DELTA_PIXEL`.\n// Browsers use this mode for smooth-scroll devices such as touchpads. Some\n// browsers, including Chrome, also use this for regular mouse wheels.\nfunction scrollWithoutSpillModePixels(elem, event) {\n  event.preventDefault()\n  elem.scrollLeft += event.deltaX\n  elem.scrollTop += event.deltaY\n}\n\n// Less precise than the pixel version. Breaks when the event has BOTH scrollX\n// and scrollY. Should work fine for regular mouse wheels.\nfunction scrollWithoutSpillModeLinesOrPages(elem, event) {\n  const movesLeft = event.deltaX < 0 && elem.scrollLeft > 0\n  const movesRight = event.deltaX > 0 && elem.scrollLeft + elem.clientWidth < elem.scrollWidth\n  const movesUp = event.deltaY < 0 && elem.scrollTop > 0\n  const movesDown = event.deltaY > 0 && elem.scrollTop + elem.clientHeight < elem.scrollHeight\n  if (!movesLeft && !movesRight && !movesUp && !movesDown) event.preventDefault()\n}\n\n/**\n * REPL\n */\n\n/* eslint-disable no-duplicate-imports */\n\nimport * as fpx from 'fpx'\nimport * as espo from 'espo'\nimport * as emerge from 'emerge'\n\nwindow.f = window.fpx = fpx\nwindow.es = window.espo = espo\nwindow.em = window.emerge = emerge\n"],"sourceRoot":""}